"use client";
import Link from "next/link";

interface ButtonFancyProps {
  name?: string;
  href?: string;
  className?: string;
  type?: "button" | "submit" | "reset";
  disabled?: boolean;
  onClick?: () => void;
}

const cx = (...a: (string | false | undefined)[]) => a.filter(Boolean).join(" ");

const ButtonFancy = ({
  name = "View Photos",
  href,
  className,
  type = "button",
  disabled = false,
  onClick,
}: ButtonFancyProps) => {
  const Inner = (
    <>
      <div className="absolute inset-0 layer pointer-events-none">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="349"
          height="42"
          viewBox="0 0 355 42"
          fill="none"
          className="w-full h-full"
        >
          <path
            d="M2.5753 2.875C2.5753 2.375 6.77611 1.41667 8.87651 1H339.69L345.991 2.25V4.125L333.389 5.375L345.991 6C347.041 9.54167 348.827 16.5 347.567 16C346.306 15.5 337.59 17.0417 333.389 17.875H345.991C345.466 22.6667 344.101 32.75 342.841 34.75C341.58 36.75 341.265 38.5 341.265 39.125L334.964 41H12.0271L7.30121 39.75C5.20081 35.5833 1 27.125 1 26.625C1 26.125 9.40161 25.1667 13.6024 24.75L2.5753 24.125L1 17.25H8.87651L2.5753 16V2.875Z"
            stroke="currentColor"
          />
        </svg>
      </div>

      {/* NỘI DUNG + ICON: GIỮ NGUYÊN ICON 25x20 */}
      <div className="relative z-10 flex items-center space-x-2 spin-animation text-center justify-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="20"
          viewBox="0 0 25 20"
          fill="none"
          className="text-current"
        >
          <path
            d="M21.1909 3.14178C19.4685 2.6283 17.3398 2.71189 15.572 2.66134C12.8664 2.58395 10.1595 2.85262 7.45508 2.74543C7.46589 2.11494 7.49023 0.859553 6.93253 0.613618C6.31844 0.342842 5.62933 0.324459 4.96767 0.361597C4.35643 0.396003 3.53168 0.477733 3.51317 1.25168C3.49839 1.87062 3.76209 2.30548 4.18241 2.67562C2.79636 2.79747 1.54979 3.26375 1.38546 4.67328C1.35056 4.973 1.49129 5.25259 1.65686 5.50002C1.48968 5.49555 1.31727 5.60647 1.29367 5.83253C0.939677 9.22407 0.171442 12.5313 0.65561 15.9683C1.02116 18.5634 3.25767 19.1457 5.52959 19.4408C8.97094 19.8877 12.5494 19.5352 15.9886 19.2335C17.1993 19.1273 18.408 18.9972 19.6194 18.9C20.7269 18.8112 22.1503 19.008 23.1566 18.4284C23.8387 18.0354 23.9271 17.0853 24.0197 16.3959C24.2855 14.4171 24.4975 12.4556 24.4998 10.4556C24.503 7.92782 24.0598 3.99696 21.1909 3.14178ZM4.40984 1.49178C4.89177 1.41564 5.3634 1.38769 5.86073 1.42856C5.98792 1.43899 6.11201 1.46458 6.23671 1.49079C6.39247 1.52358 6.25857 1.47687 6.31509 1.69523C6.39732 2.01296 6.40291 2.35367 6.40328 2.68568C5.90557 2.65525 5.35048 2.62854 4.79576 2.64183C4.7939 2.60544 4.78557 2.56917 4.76111 2.53539C4.51529 2.19779 4.36152 1.87161 4.40984 1.49178ZM5.90073 18.204C5.79502 18.1945 5.68833 18.1834 5.58163 18.1716C5.64051 18.1458 5.6933 18.1106 5.73789 18.0669C5.88619 18.1217 6.03587 18.174 6.18628 18.2252C6.09102 18.2176 5.99587 18.2125 5.90073 18.204ZM7.60774 18.3085C7.6404 18.2617 7.66574 18.2114 7.68388 18.1568C7.92236 18.1819 8.16159 18.2039 8.40156 18.2212C8.4582 18.2678 8.52589 18.3044 8.60203 18.3315C8.27077 18.3285 7.93925 18.3205 7.60774 18.3085ZM8.67681 16.0187C5.78037 16.101 4.00554 13.7311 4.93798 11.073C5.76198 8.72388 7.93503 7.68089 10.1696 7.21995C15.0622 8.56849 13.5153 15.8811 8.67681 16.0187ZM23.1698 12.0537C23.1368 12.991 23.047 13.9264 22.9342 14.8586C22.8312 14.7687 22.6971 14.709 22.5279 14.7087C22.3211 14.7083 22.1143 14.708 21.9075 14.7077C20.6536 14.5632 19.2739 14.9064 18.008 14.9361C16.4028 14.9737 14.795 14.9366 13.1933 14.8233C15.2326 11.7592 14.7524 6.79913 10.2482 6.09188C9.94002 6.04344 9.70775 6.21994 9.60763 6.44376C6.92955 6.1864 4.48586 8.72425 3.66024 11.0631C3.22041 12.3092 3.32139 13.4335 3.78258 14.3717C3.09956 14.3385 2.34809 14.4606 1.77511 14.523C1.77114 14.417 1.76741 14.3133 1.76331 14.2151C1.64668 11.4234 2.18773 8.66935 1.9885 5.87414C2.22922 5.99325 2.58098 5.90556 2.54794 5.56809C2.402 4.08179 3.61192 4.07857 4.81526 4.0331C5.96035 3.98988 7.10593 4.12117 8.2504 4.1362C11.694 4.18141 15.1834 3.85685 18.6297 4.12278C18.4348 4.2614 18.2406 4.40089 18.0434 4.53677C17.3567 5.01014 16.8086 4.81053 16.1345 4.40474C15.8497 4.23333 15.4971 4.45567 15.4896 4.77488C15.4758 5.35507 14.8705 7.59431 15.3628 7.97452C16.1096 8.5516 16.6631 8.91789 17.1576 9.73693C17.2923 9.96013 17.6019 10.0014 17.7888 9.81828C18.7765 8.85107 19.5065 8.77145 20.8346 9.13004C21.0881 9.19848 21.3452 9.00422 21.3454 8.74089C21.3464 7.86559 21.3891 7.0576 21.5965 6.20453C21.646 6.00083 21.5345 5.75254 21.3138 5.70658C20.4399 5.52449 20.2644 4.89574 19.9284 4.25258C20.1355 4.27854 20.3424 4.30525 20.5491 4.33655C23.4892 4.78296 23.2447 9.93107 23.1698 12.0537ZM19.0964 4.23793C19.6377 5.22477 19.6893 6.01512 20.7364 6.38364C20.6166 7.00084 20.5624 7.60711 20.5466 8.23387C19.3748 7.99824 18.5116 8.15711 17.5933 8.91491C17.3834 8.58787 17.1568 8.28778 16.8298 8.04569C16.3979 7.7261 16.0578 7.54078 16.1111 6.93153C16.1551 6.43059 16.2366 5.94109 16.2925 5.44574C17.4825 5.91836 18.3172 5.36637 19.0964 4.23793Z"
            fill="currentColor"
          />
          <path
            d="M10.9206 9.24345C10.6682 8.9456 10.2212 9.21973 10.2207 9.54392C8.60437 8.86933 6.80917 9.54218 5.75227 10.9122C4.64184 12.3517 5.41654 14.7488 7.02803 15.4539C8.46923 16.0847 10.0869 15.1936 10.9806 14.0604C12.1183 12.6182 12.1103 10.6466 10.9206 9.24345ZM10.4864 13.2337C9.93627 14.161 8.77218 14.9403 7.66274 14.7264C6.31432 14.4661 5.81165 12.599 6.40649 11.5231C7.0802 10.3046 9.02209 9.73532 10.319 9.96735C10.3508 9.97306 10.3803 9.96772 10.408 9.95828C11.0325 11.0265 11.1549 12.1065 10.4864 13.2337Z"
            fill="currentColor"
          />
        </svg>

        <span className="relative z-20 font-medium button-1"> {name} </span>
      </div>
    </>
  );

  if (onClick && !href) {
    return (
      <button
        type={type}
        disabled={disabled}
        onClick={onClick}
        aria-label={name}
        className={cx(
          "relative !max-w-full cursor-pointer max-xl:hidden h-[42px] px-6 overflow-hidden text-white",
          className
        )}
      >
        {Inner}
      </button>
    );
  }

  if (href) {
    return (
      <Link
        href={href}
        aria-label={name}
        className={cx(
          "relative btn btn-outline-light !max-w-full cursor-pointer max-xl:hidden h-[42px] px-6 overflow-hidden inline-flex items-center text-white",
          className
        )}
      >
        {Inner}
      </Link>
    );
  }

  // Mặc định: button không onClick
  return (
    <button
      type={type}
      disabled={disabled}
      aria-label={name}
      className={cx(
        "relative btn btn-outline-light !max-w-full cursor-pointer max-xl:hidden h-[42px] px-6 overflow-hidden text-white",
        className
      )}
    >
      {Inner}
    </button>
  );
};

export default ButtonFancy;
